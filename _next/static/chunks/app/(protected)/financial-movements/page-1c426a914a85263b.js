(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[524],{49:function(e,t,n){Promise.resolve().then(n.t.bind(n,5250,23)),Promise.resolve().then(n.bind(n,2550))},2550:function(e,t,n){"use strict";n.r(t),n.d(t,{AccountCustomComponent:function(){return C},CategoryCustomComponent:function(){return g},DateCustomComponent:function(){return x},OptionsCustomComponent:function(){return y},default:function(){return h}});var o=n(7437),a=n(5501),u=n(9625),s=n(2265),c=n(9721),l=n(2035),r=n(1955);function i(e){let{startDateState:t,endDateState:n}=e,[a,u]=t,[c,l]=n,[r,i]=(0,s.useState)(a),[m,d]=(0,s.useState)(c);return(0,o.jsxs)("form",{className:"w-full flex gap-2",onSubmit:function(e){e.preventDefault(),u(r),l(m)},children:[(0,o.jsx)("input",{type:"date",name:"startDate",id:"startDate",className:"input input-bordered w-full",value:r,onChange:e=>i(e.target.value)}),(0,o.jsx)("input",{type:"date",name:"endDate",id:"endDate",className:"input input-bordered w-full",value:m,onChange:e=>d(e.target.value)}),(0,o.jsx)("button",{className:"btn",type:"submit",children:"Search"})]})}var m=n(4033);function d(e){let{id:t,reload:n}=e,a=(0,m.useRouter)();return(0,o.jsx)("button",{className:"btn btn-xs",onClick:function(){(0,r.Pi)(t),a.refresh(),n&&n()},children:"Delete"})}var f=n(1620);let p="edit-financial-movement";function h(){let e=new Date,[t,n]=(0,s.useState)(new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0]),[c,l]=(0,s.useState)(new Date(e.getFullYear(),e.getMonth()+1,0).toISOString().split("T")[0]),[m,d]=(0,s.useState)([]),[h,b]=(0,s.useState)(""),j=(0,s.useCallback)(async()=>d(await (0,r.Su)(t,c)),[t,c]);return(0,s.useEffect)(()=>{j()},[j]),(0,o.jsxs)("section",{className:"overflow-x-auto",children:[(0,o.jsx)(i,{startDateState:[t,n],endDateState:[c,l]}),(0,o.jsx)(a.Z,{config:{tableName:"financial movement",columnSettings:[{columnName:"Description",key:"description"},{columnName:"Value",key:"value"},{columnName:"Date",key:"date",customComponent:x,customComponentProps:[{key:"date",value:{column:"date"}}]},{columnName:"Category",key:"category",customComponent:g,customComponentProps:[{key:"categoryId",value:{column:"categoryId"}}]},{columnName:"Account",key:"account",customComponent:C,customComponentProps:[{key:"accountId",value:{column:"accountId"}}]},{columnName:"Options",key:"options",customComponent:y,customComponentProps:[{key:"id",value:{column:"id"}},{key:"setId",value:{custom:b}},{key:"reload",value:{custom:j}}]}]},values:m}),(0,o.jsx)(u.ZP,{id:p,bodyComponent:f.default,title:"Edit financial movement",bodyComponentProps:{id:h,modalId:p,reload:j}})]})}function x(e){let{date:t}=e;return(0,o.jsx)(o.Fragment,{children:new Date(t).toDateString()})}function g(e){let{categoryId:t}=e,[n,a]=(0,s.useState)("-");return(0,s.useEffect)(()=>{(async function(){let e=await (0,l.n3)(t);e&&a(e.name)})()},[t]),(0,o.jsx)(o.Fragment,{children:n})}function C(e){let{accountId:t}=e,[n,a]=(0,s.useState)("-");return(0,s.useEffect)(()=>{(async function(){let e=await (0,c.D0)(t);e&&a(e.name)})()},[t]),(0,o.jsx)(o.Fragment,{children:n})}function y(e){let{id:t,setId:n,reload:a}=e;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d,{id:t,reload:a}),(0,o.jsx)("button",{className:"btn btn-xs ml-4",onClick:()=>{n(t),(0,u.K4)(p),(0,u.x8)(p,()=>n(""))},children:"edit"})]})}},5501:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var o=n(7437);function a(e){let{config:t,values:n}=e;return(0,o.jsxs)("table",{className:"table",children:[(0,o.jsx)("thead",{children:(0,o.jsx)("tr",{children:t.columnSettings.map(e=>{let{columnName:t,key:n}=e;return(0,o.jsx)("th",{children:t},n)})})}),(0,o.jsxs)("tbody",{children:[n.map((e,n)=>(0,o.jsx)("tr",{children:t.columnSettings.map((t,n)=>{let{key:a,customComponent:u,customComponentProps:s}=t;return(0,o.jsx)("td",{children:u?(0,o.jsx)(u,{...function(e,t){let n={};return e.forEach(e=>{let{key:o,value:{column:a,custom:u}}=e;n[o]=a?t[a]:u}),n}(s,e)}):e.hasOwnProperty(a)&&e[a].toString()},n)})},n)),!n.length&&(0,o.jsx)("tr",{children:(0,o.jsxs)("td",{colSpan:t.columnSettings.length,className:"text-center",children:["No ",t.tableName," avaliable!"]})})]})]})}}},function(e){e.O(0,[596,250,708,734,721,620,971,938,744],function(){return e(e.s=49)}),_N_E=e.O()}]);