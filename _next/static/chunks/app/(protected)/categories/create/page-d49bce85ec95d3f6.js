(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{4066:function(e,t,a){Promise.resolve().then(a.bind(a,7694))},7694:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var l=a(7437),n=a(6818),s=a(9625),r=a(7061),c=a(4033),i=a(2265),u=a(2035);function o(e){let{id:t,modalId:a,reload:o}=e,d=!!t,f=(0,c.useRouter)(),[h,p]=(0,i.useState)(""),[m,y]=(0,i.useState)(r.CategoryType.EXPENSE),[x,N]=(0,i.useState)(!1);async function E(e){e.preventDefault(),N(!0);let{statusCode:l}=d?await c():await r();async function r(){return await (0,u.sl)({name:h,type:m})}async function c(){return await (0,u.yr)(t,{name:h})}(201===l||200===l)&&(f.refresh(),f.push(n.X.CATEGORY_PATH),a&&((0,s.Mr)(a),o&&o())),N(!1)}return(0,i.useEffect)(()=>{(async function(){if(!d)return;N(!0);let e=await (0,u.n3)(t);e&&(p(e.name),y(e.type),N(!1))})()},[t,d]),(0,l.jsx)("form",{onSubmit:E,children:(0,l.jsxs)("fieldset",{className:"form-control gap-2",children:[(0,l.jsxs)("legend",{children:["Input the details of the ",d?"updated":"new"," category"]}),(0,l.jsxs)("div",{className:"w-full flex flex-col md:flex-row gap-2",children:[(0,l.jsxs)("div",{className:"form-control w-full",children:[(0,l.jsx)("label",{className:"label",htmlFor:"name",children:(0,l.jsx)("span",{className:"label-text",children:"Name"})}),(0,l.jsx)("input",{id:"name",type:"text",placeholder:"category name",className:"input input-bordered w-full",onChange:e=>p(e.target.value),value:h,required:!0})]}),(0,l.jsxs)("div",{className:"form-control w-full",children:[(0,l.jsx)("label",{className:"label",htmlFor:"type",children:(0,l.jsx)("span",{className:"label-text",children:"Type"})}),(0,l.jsxs)("select",{id:"type",className:"select select-bordered w-full",onChange:e=>y(e.target.value),value:m,required:!0,disabled:d,children:[(0,l.jsx)("option",{value:r.CategoryType.EXPENSE,children:r.CategoryType.EXPENSE}),(0,l.jsx)("option",{value:r.CategoryType.INCOME,children:r.CategoryType.INCOME})]})]})]}),(0,l.jsx)("button",{className:"btn",disabled:x,children:d?"Edit":"Create"})]})})}}},function(e){e.O(0,[596,708,734,971,938,744],function(){return e(e.s=4066)}),_N_E=e.O()}]);