(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[674],{2192:function(e,t,s){Promise.resolve().then(s.bind(s,6026))},6026:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var n=s(7437),r=s(6818),a=s(9625),i=s(4033),o=s(2265),l=s(9721);function u(e){let{id:t,modalId:s,reload:u}=e,c=!!t,d=(0,i.useRouter)(),[h,f]=(0,o.useState)(""),[m,b]=(0,o.useState)(0),[p,v]=(0,o.useState)(!1);async function y(e){e.preventDefault(),v(!0);let{statusCode:n}=c?await o():await i();async function i(){return await (0,l.ts)({name:h,balance:m})}async function o(){return await (0,l.sG)(t,{name:h})}(201===n||200===n)&&(d.refresh(),d.push(r.X.ACCOUNT_PATH),s&&((0,a.Mr)(s),u&&u())),v(!1)}return(0,o.useEffect)(()=>{(async function(){if(!c)return;v(!0);let e=await (0,l.D0)(t);e&&(f(e.name),b(e.balance),v(!1))})()},[t,c]),(0,n.jsx)("form",{onSubmit:y,children:(0,n.jsxs)("fieldset",{className:"form-control gap-2",children:[(0,n.jsxs)("legend",{children:["Input the details of the ",c?"updated":"new"," account"]}),(0,n.jsxs)("div",{className:"w-full flex flex-col md:flex-row gap-2",children:[(0,n.jsxs)("div",{className:"form-control w-full",children:[(0,n.jsx)("label",{className:"label",htmlFor:"name",children:(0,n.jsx)("span",{className:"label-text",children:"Name"})}),(0,n.jsx)("input",{id:"name",type:"text",placeholder:"account name",className:"input input-bordered w-full",onChange:e=>f(e.target.value),value:h,required:!0})]}),(0,n.jsxs)("div",{className:"form-control w-full",children:[(0,n.jsx)("label",{className:"label",htmlFor:"balance",children:(0,n.jsx)("span",{className:"label-text",children:"Balance"})}),(0,n.jsx)("input",{id:"balance",type:"number",min:"1",placeholder:"account balance",className:"input input-bordered w-full",onChange:e=>b(Number(e.target.value)),value:m,required:!0,disabled:c})]})]}),(0,n.jsx)("button",{className:"btn",disabled:p,children:c?"Edit":"Create"})]})})}},9625:function(e,t,s){"use strict";s.d(t,{K4:function(){return a},Mr:function(){return i},ZP:function(){return r},x8:function(){return o}});var n=s(7437);function r(e){let{id:t,title:s,bodyComponent:r,bodyComponentProps:a}=e;return(0,n.jsxs)("dialog",{id:t,className:"modal modal-bottom sm:modal-middle",children:[(0,n.jsxs)("div",{className:"modal-box",children:[(0,n.jsx)("h3",{className:"font-bold text-lg",children:s}),(0,n.jsx)(r,{...a}),(0,n.jsx)("div",{className:"modal-action",children:(0,n.jsx)("form",{method:"dialog",children:(0,n.jsx)("button",{className:"btn",children:"Close"})})})]}),(0,n.jsx)("form",{method:"dialog",className:"modal-backdrop",children:(0,n.jsx)("button",{children:"close"})})]})}function a(e){document.getElementById(e).showModal()}function i(e){document.getElementById(e).close()}function o(e,t){document.getElementById(e).addEventListener("close",t)}},3760:function(e,t,s){"use strict";var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))(function(r,a){function i(e){try{l(n.next(e))}catch(e){a(e)}}function o(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreUpdateSupabaseRepository=t.CoreDeleteSupabaseRepository=t.CoreExistsByIdSupabaseRepository=t.CoreFindByIdSupabaseRepository=t.CoreFindAllSupabaseRepository=t.CoreInsertSupabaseRepository=void 0;let r=s(1460);class a{insert(e){return n(this,void 0,void 0,function*(){let{data:t,error:s}=yield this.supabase.from(this.table).insert(e).select().single();if(s)throw new r.InternalServerError(s.message);return t})}constructor(e,t){this.supabase=e,this.table=t}}t.CoreInsertSupabaseRepository=a;class i{findAll(){return n(this,void 0,void 0,function*(){let{data:e,error:t}=yield this.supabase.from(this.table).select();if(t)throw new r.InternalServerError(t.message);return e})}constructor(e,t){this.supabase=e,this.table=t}}t.CoreFindAllSupabaseRepository=i;class o{findById(e){return n(this,void 0,void 0,function*(){let{data:t,error:s}=yield this.supabase.from(this.table).select().eq("id",e).limit(1).single();if(s){if("PGRST116"===s.code)throw new r.NotFoundError(s.details);throw new r.InternalServerError(s.message)}return null!=t?t:void 0})}constructor(e,t){this.supabase=e,this.table=t}}t.CoreFindByIdSupabaseRepository=o;class l{existsById(e){return n(this,void 0,void 0,function*(){let{data:t,error:s}=yield this.supabase.from(this.table).select().eq("id",e).limit(1).single();if(s){if("PGRST116"===s.code)return!1;throw new r.InternalServerError(s.message)}return!!t})}constructor(e,t){this.supabase=e,this.table=t}}t.CoreExistsByIdSupabaseRepository=l;class u{delete(e){return n(this,void 0,void 0,function*(){yield this.supabase.from(this.table).delete().eq("id",e)})}constructor(e,t){this.supabase=e,this.table=t}}t.CoreDeleteSupabaseRepository=u;class c{update(e){return n(this,void 0,void 0,function*(){let{data:t,error:s}=yield this.supabase.from(this.table).update(e).eq("id",e.id).select().single();if(s){if("PGRST116"===s.code)throw new r.NotFoundError(s.details);throw new r.InternalServerError(s.message)}return t})}constructor(e,t){this.supabase=e,this.table=t}}t.CoreUpdateSupabaseRepository=c}},function(e){e.O(0,[596,708,721,971,938,744],function(){return e(e.s=2192)}),_N_E=e.O()}]);